<UserControl x:Class="Sakuno.KanColle.Amatsukaze.Views.GameController"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:rb="clr-namespace:Sakuno.KanColle.Amatsukaze;assembly=HeavenlyWind.Base"
             xmlns:ruic="clr-namespace:Sakuno.UserInterface.Controls;assembly=Sakuno.UserInterface"
             xmlns:rs="clr-namespace:Sakuno.KanColle.Amatsukaze.Services"
             mc:Ignorable="d"
             DataContext="{Binding GameController}"
             Visibility="{Binding IsNavigatorVisible, Source={x:Static rs:BrowserService.Instance}, Converter={StaticResource BooleanToInvisibilityConverter}}"
             d:DesignWidth="800" d:DesignHeight="30">
    <UserControl.Resources>
        <Style x:Key="GameSplitButton" TargetType="{x:Type ruic:SplitButton}">
            <Setter Property="Height" Value="30" />
            <Setter Property="Padding" Value="4" />
        </Style>
        <Style x:Key="GameButtonIcon" TargetType="{x:Type Path}">
            <Setter Property="Stretch" Value="Uniform" />
            <Setter Property="Fill" Value="{DynamicResource ActiveForegroundBrushKey}" />
            <Setter Property="Margin" Value="2" />
        </Style>
        <Style x:Key="MuteTogglePathStyle" TargetType="{x:Type Path}" BasedOn="{StaticResource GameButtonIcon}">
            <Setter Property="Data" Value="M180.35144,65.918056 C183.04673,65.918056 185.50767,66.91415 187.73423,68.906338 194.06234,75.234478 198.86703,82.441517 202.1483,90.527462 205.42953,98.613415 207.07014,107.10952 207.07016,116.01577 207.07014,124.68766 205.42953,133.03729 202.1483,141.06465 198.86703,149.09199 194.06234,156.26974 187.73423,162.59788 186.56234,163.53538 185.36119,164.2971 184.13073,164.88304 182.90025,165.46898 181.64048,165.76194 180.35144,165.76194 179.06236,165.76194 177.7733,165.46898&#xD;&#xA;176.48425,164.88304 175.19517,164.2971 174.0233,163.53538 172.96862,162.59788 170.97642,160.60568 169.98033,158.20333 169.98034,155.39083 169.98033,152.69552 170.97642,150.23457 172.96862,148.00801 177.30455,143.67207 180.70298,138.77948 183.16394,133.33026 185.62486,127.88102 186.85531,122.10954 186.85533,116.01577 186.85531,109.92202 185.62486,104.06263 183.16394,98.437634 180.70298,92.812618 177.30455,87.83215 172.96862,83.496204 170.97642,81.504017&#xD;&#xA;169.98033,79.101665 169.98034,76.289165 169.98033,73.593845 170.97642,71.132908 172.96862,68.906338 175.19517,66.91415 177.65611,65.918056 180.35144,65.918056 z M215.50766,39.550831 C218.32013,39.550846 220.72247,40.54694 222.71469,42.53912 232.91,52.851635 240.52716,64.336025 245.56622,76.99229 250.60528,89.648556 253.12481,102.65638 253.12481,116.01577 253.12481,129.37518 250.60528,142.38301 245.56622,155.03927 240.52716,167.69554 232.91,179.06274 222.71469,189.14088 220.60528,191.13307 218.14434,192.12916 215.33187,192.12916 214.0428,192.12916 212.78303,191.89479 211.55258,191.42604 210.32209,190.95729 209.2967,190.19557&#xD;&#xA;208.47641,189.14088 206.24984,187.26588 205.13656,184.86352 205.13658,181.93383 205.13656,179.00415 206.24984,176.6018 208.47641,174.7268 216.56234,166.52366 222.62677,157.32443 226.66977,147.1291 230.71273,136.93377 232.73422,126.50407 232.73422,115.83999 232.73422,105.17591 230.71273,94.775524 226.66977,84.638783 222.62677,74.502048 216.50375,65.332119 208.30062,57.128979 206.19125,55.019604 205.13656,52.558666 205.13658,49.746159 205.13656,46.816486&#xD;&#xA;206.24984,44.414135 208.47641,42.53912 210.46858,40.54694 212.81233,39.550846 215.50766,39.550831 z M249.78497,14.062519 C252.59747,14.062534 255.117,15.000034 257.34356,16.875023 270.58575,30.117245 280.66385,45.234447 287.57791,62.226643 294.49197,79.218853 297.949,97.148571 297.949,116.01577 297.949,134.64862 294.49197,152.43185 287.57791,169.36546 280.66385,186.29908 270.58575,201.38699 257.34356,214.62919 255.23419,216.62138 252.77325,217.61747 249.96075,217.61747 247.03106,217.61747 244.57013,216.62138 242.57794,214.62919 240.58575,212.637 239.58966,210.23466&#xD;&#xA;239.58966,207.42215 239.58966,204.72683 240.64434,202.32449 242.75372,200.21511 254.00372,188.9651 262.617,176.07446 268.59356,161.54318 274.57013,147.01191 277.55841,131.83612 277.55841,116.01577 277.55841,99.961071 274.57013,84.726673 268.59356,70.312595 262.617,55.89851 253.94513,43.00787 242.57794,31.640667 240.58575,29.41412 239.58966,26.894581 239.58966,24.082066 239.58966,21.503948 240.58575,19.101601 242.57794,16.875023 244.45294,15.000034&#xD;&#xA;246.85528,14.062534 249.78497,14.062519 z M146.24989,0 C148.47645,1.5258789E-05 150.23426,0.90821838 151.52333,2.7246132 152.81239,4.5410347 153.45692,7.1484604 153.45692,10.546886 L153.45692,221.1331 C153.45692,224.53157 152.7538,227.13899 151.34755,228.95539 149.9413,230.7718 148.12489,231.68 145.89833,231.68 143.32022,231.68 140.6835,230.56672 137.98819,228.34016 125.91787,218.96513 115.13664,210.58622 105.64445,203.2034 101.5429,200.03933 97.558529,196.96316 93.691341,193.97486 89.824154,190.98658 86.337826,188.32057 83.232365,185.97682 80.126888,183.63305 77.607357,181.69946 75.673779,180.17602 73.740177,178.65258 72.714787,177.89087&#xD;&#xA;72.597607,177.89087 L3.8671913,177.89087 C2.8125,177.89087 1.9042969,177.39282 1.1425858,176.39672 0.38085938,175.40063 0,174.25805 0,172.96898 L0,58.007893 C0,56.718822 0.38085938,55.693432 1.1425858,54.931713 1.9042969,54.169994 2.8125,53.789135 3.8671913,53.789135 L73.476513,53.789135 C73.476505,53.671947 74.443302,52.851635 76.376904,51.32819 78.310482,49.804752 80.800716,47.841862 83.847599,45.43951 86.894466,43.037182 90.351498,40.341862 94.218685,37.353565 98.085873,34.365292 102.07025,31.28912 106.17179,28.125034 115.66398,20.859417 126.38662,12.539093 138.33975,3.1640663 141.15225,1.0547028 143.78897,1.5258789E-05 146.24989,0 z" />

            <Style.Triggers>
                <DataTrigger Binding="{Binding Volume.IsMute}" Value="True">
                    <Setter Property="Data" Value="M198.92569,86.132835 C196.19131,89.664742 194.08355,93.652367 192.60244,98.095726 191.12132,102.53909 190.38076,106.92548 190.38076,111.25491 190.38076,117.17939 191.4916,122.73359 193.71328,127.91752 195.93496,133.10145 198.95416,137.63026 202.77092,141.50394 206.5876,145.37763 211.08793,148.4538 216.27186,150.73246 221.45576,153.01112 227.00996,154.15043 232.93446,154.15043 237.37782,154.15043 241.79268,153.35291 246.17909,151.75785 250.56547,150.16279 254.52461,147.99809&#xD;&#xA;258.05653,145.26371 z M232.93446,68.872093 C228.71894,68.872093 224.70283,69.470238 220.88612,70.666527 217.06938,71.862816 213.39506,73.486351 209.86317,75.537132 L268.6522,134.49711 C270.81691,130.85126 272.46891,127.12 273.60826,123.30326 274.74757,119.48652 275.31724,115.47041 275.31724,111.25491 275.31724,105.44436 274.2064,99.975609 271.98472,94.848656 269.76304,89.721703 266.74385,85.24987 262.92714,81.433128 259.11039,77.616402 254.63856,74.568718 249.51161,72.290062 244.38465,70.011421 238.85893,68.872093 232.93446,68.872093 z M232.93446,53.32032 C240.90971,53.32032 248.42924,54.829933 255.49305,57.849129 262.55684,60.86834 268.70915,64.998405 273.95005,70.239281 279.19093,75.480171 283.32096,81.632515 286.34019,88.696312 289.35939,95.760124 290.869,103.27966 290.869,111.25491 290.869,119.23017 289.35939,126.7497 286.34019,133.81351 283.32096,140.87733 279.19093,147.02967 273.95005,152.27055 268.70915,157.51142 262.55684,161.66996 255.49305,164.74613 248.42924,167.8223 240.90971,169.36039&#xD;&#xA;232.93446,169.36039 224.95918,169.36039 217.43965,167.8223 210.37587,164.74613 203.31208,161.66996 197.15973,157.51142 191.91885,152.27055 186.67797,147.02967 182.51945,140.87733 179.44328,133.81351 176.36711,126.7497 174.82902,119.23017 174.82902,111.25491 174.82902,103.27966 176.36711,95.760124 179.44328,88.696312 182.51945,81.632515 186.67797,75.480171 191.91885,70.239281 197.15973,64.998405 203.31208,60.86834 210.37587,57.849129 217.43965,54.829933&#xD;&#xA;224.95918,53.32032 232.93446,53.32032 z M142.01654,0 C144.06732,0 145.71933,0.91146851 146.97259,2.734375 148.22584,4.5572968 148.85247,7.1207733 148.85247,10.424805 L148.85247,215.1612 C148.85247,218.46525 148.19735,221.02872 146.88714,222.85163 145.5769,224.67454 143.83944,225.58601 141.67474,225.58601 139.28216,225.58601 136.77565,224.50364 134.15521,222.33894 L102.70991,197.72953 C98.722271,194.65336 94.848583,191.63416 91.088833,188.67191 87.329067,185.70966 83.939571,183.06074 80.920376,180.72514 77.901165,178.38953 74.454723,175.68363 70.581028,172.60746 L4.2724609,172.60746 C1.4241562,172.60746 3.8146973E-06,171.24027 0,168.5059 L0,56.56739 C3.8146973E-06,55.31414 0.39876556,54.317238 1.1962929,53.576668 1.9938164,52.836113 3.019207,52.465828 4.2724609,52.465828 L71.435513,52.465828 74.340786,50.244148 C76.163708,48.763039 78.556286,46.883156 81.51852,44.6045 84.480755,42.325859 87.841763,39.705421 91.601528,36.743172 95.361279,33.780937 99.234966,30.761726 103.22261,27.685555 112.45112,20.507813 122.87593,12.361664 134.49701,3.2470703 137.11744,1.0823669 139.62396,0 142.01654,0 z" />
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <StackPanel Orientation="Horizontal">
        <ruic:SplitButton Style="{StaticResource GameSplitButton}" Command="{Binding TakeScreenshotToFileCommand}">
            <ruic:SplitButton.Header>
                <Path Style="{StaticResource GameButtonIcon}" Data="M146.07456,103.00812 C151.11364,103.00812 155.80115,103.97491 160.13709,105.90852 164.47303,107.84212 168.28164,110.44955 171.5629,113.7308 174.84415,117.01207 177.42228,120.84998 179.29729,125.24452 181.17229,129.63905 182.10979,134.29727 182.10981,139.21916 182.10979,144.14105 181.17229,148.82857 179.29729,153.28171 177.42228,157.73485 174.84415,161.60205 171.5629,164.8833 168.28164,168.16457 164.47303,170.772 160.13709,172.7056 155.80115,174.63919 151.11364,175.60599&#xD;&#xA;146.07456,175.60599 141.03548,175.60599 136.31868,174.63919 131.92414,172.7056 127.52959,170.772 123.6917,168.16457 120.41043,164.8833 117.12918,161.60205 114.55104,157.73485 112.67604,153.28171 110.80104,148.82857 109.86354,144.14105 109.86354,139.21916 109.86354,134.29727 110.80104,129.63905 112.67604,125.24452 114.55104,120.84998 117.12918,117.01207 120.41043,113.7308 123.6917,110.44955 127.52959,107.84212 131.92414,105.90852 136.31868,103.97491&#xD;&#xA;141.03548,103.00812 146.07456,103.00812 z M146.07456,82.617432 C138.34017,82.617432 131.01593,84.11158 124.10186,87.099869 117.18778,90.088165 111.1819,94.131134 106.08423,99.228806 100.98656,104.32648 96.943592,110.33237 93.955296,117.24644 90.966999,124.16052 89.472858,131.48477 89.472858,139.21916 89.472858,146.95357 90.966999,154.2778 93.955296,161.19189 96.943592,168.10597 100.98656,174.11185 106.08423,179.20952 111.1819,184.30719 117.18778,188.35017 124.10186,191.33847 131.01593,194.32675 138.34017,195.82089&#xD;&#xA;146.07456,195.82089 153.92612,195.82089 161.25035,194.32675 168.04728,191.33847 174.84415,188.35017 180.79142,184.30719 185.8891,179.20952 190.98676,174.11185 195.00045,168.10597 197.93015,161.19189 200.85984,154.2778 202.32468,146.95357 202.3247,139.21916 202.32468,131.48477 200.85984,124.16052 197.93015,117.24644 195.00045,110.33237 190.98676,104.32648 185.8891,99.228806 180.79142,94.131134 174.84415,90.088165 168.04728,87.099869 161.25035,84.11158&#xD;&#xA;153.92612,82.617432 146.07456,82.617432 z M43.593853,60.996277 C41.132908,60.996277 38.818447,61.465027 36.650471,62.402534 34.482502,63.340034 32.548901,64.5998 30.849682,66.181839 29.150455,67.763878 27.832088,69.638878 26.894588,71.806854 25.957088,73.974831 25.488331,76.289291 25.488338,78.750237 25.488331,81.211182 25.957088,83.525642 26.894588,85.693619 27.832088,87.861588 29.150455,89.795197 30.849682,91.494415 32.548901,93.193634 34.482502,94.512009 36.650471,95.449509 38.818447,96.387009 41.132908,96.855759&#xD;&#xA;43.593853,96.855759 46.05479,96.855759 48.398548,96.387009 50.625118,95.449509 52.851681,94.512009 54.814579,93.193634 56.513805,91.494415 58.213024,89.795197 59.531384,87.861588 60.468891,85.693619 61.406384,83.525642 61.875134,81.211182 61.875141,78.750237 61.875134,76.289291 61.406384,73.974831 60.468891,71.806854 59.531384,69.638878 58.213024,67.763878 56.513805,66.181839 54.814579,64.5998 52.851681,63.340034 50.625118,62.402534 48.398548,61.465027&#xD;&#xA;46.05479,60.996277 43.593853,60.996277 z M119.35575,0 L172.61759,0 C175.54728,1.5258789E-05 178.44767,0.5566597 181.31879,1.6699257 184.18987,2.783226 186.85588,4.2773705 189.31685,6.1523628 191.77777,8.0273819 193.97506,10.224655 195.90866,12.744183 197.84224,15.263733 199.27779,17.929756 200.21531,20.742249 L205.84032,37.265739 254.18029,37.265739 C259.21935,37.265755 263.99477,37.998177 268.50649,39.463013 273.01821,40.927856 276.97332,43.037239 280.37175,45.791153 283.77019,48.545067 286.4655,51.914215 288.45772,55.898605 290.44991,59.882996 291.446,64.336128 291.446,69.258018 L291.446,193.35995 C291.446,198.16466 290.44991,202.76428 288.45772,207.15883 286.4655,211.55338 283.77019,215.42056 280.37175,218.76041 276.97332,222.10028 273.01821,224.737 268.50649,226.67059 263.99477,228.60419 259.21935,229.57101 254.18029,229.57101 L37.265713,229.57101 C32.343822,229.57101 27.656307,228.60419 23.203175,226.67059 18.750038,224.737 14.794949,222.10028 11.33791,218.76041 7.8808746,215.42056 5.1269608,211.55338 3.0761757,207.15883 1.0253906,202.76428 -3.8146973E-06,198.16466 0,193.35995 L0,74.004128 C-3.8146973E-06,69.082237 1.0253906,64.394722 3.0761757,59.941589 5.1269608,55.488449 7.8808746,51.591949 11.33791,48.252098 14.794949,44.912247 18.750038,42.246223 23.203175,40.254028 27.656307,38.261848 32.343822,37.265755 37.265713,37.265739 L85.605671,37.265739 91.582249,20.742249 C92.636921,17.929756 94.131077,15.29303 96.064671,12.832069 97.99828,10.37114 100.19555,8.1738663 102.65648,6.2402573 105.11744,4.3066673 107.78345,2.783226 110.65456,1.6699257 113.52565,0.5566597 116.42606,1.5258789E-05 119.35575,0 z" />
            </ruic:SplitButton.Header>

            <ListBox Style="{StaticResource MenuListBoxStyle}">
                <ListBoxItem>
                    <Button Content="{rb:StringResource Main.Screenshot_File}" Command="{Binding TakeScreenshotToFileCommand}" />
                </ListBoxItem>
                <ListBoxItem>
                    <Button Content="{rb:StringResource Main.Screenshot_Clipboard}" Command="{Binding TakeScreenshotToClipboardCommand}" />
                </ListBoxItem>
                <ListBoxItem>
                    <Button Content="{rb:StringResource Main.Screenshot_Tool}" Command="{Binding OpenScreenshotToolCommand}" />
                </ListBoxItem>
            </ListBox>
        </ruic:SplitButton>

        <ruic:SplitButton Style="{StaticResource GameSplitButton}" Command="{Binding MuteToggleCommand}" PopupAutoClose="False" Margin="5, 0, 0, 0">
            <ruic:SplitButton.Header>
                <Path Style="{StaticResource MuteTogglePathStyle}" />
            </ruic:SplitButton.Header>

            <Border Padding="8">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="100" />
                        <RowDefinition Height="8" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Slider Minimum="0" Maximum="100" Value="{Binding Volume.Volume}" Orientation="Vertical" AutoToolTipPlacement="BottomRight" HorizontalAlignment="Center">
                        <Slider.Style>
                            <Style TargetType="{x:Type Slider}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Volume.IsMute}" Value="True">
                                        <Setter Property="Opacity" Value=".5" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Slider.Style>
                    </Slider>

                    <Button Command="{Binding MuteToggleCommand}" Width="30" Height="30" Padding="4" Grid.Row="2">
                        <Path Style="{StaticResource MuteTogglePathStyle}" />
                    </Button>
                </Grid>
            </Border>
        </ruic:SplitButton>

        <ruic:DropDownButton PopupAutoClose="False" ShowDropDownMarker="False" Height="30" Margin="5, 0, 0, 0" Padding="4">
            <ruic:DropDownButton.Header>
                <StackPanel Orientation="Horizontal">
                    <Path Style="{StaticResource GameButtonIcon}" Data="M104.46785,22.852232 C98.738756,22.860838 93.051485,23.239569 89.537455,23.985228 64.855799,29.222551 44.877947,43.622969 33.093569,64.671064 8.7868118,108.08537 28.577024,162.78128 75.283785,181.27579 83.806391,184.65048 98.63254,187.23462 106.28639,186.67941 107.76689,186.57202 111.07167,186.32878 113.63036,186.13887 119.41904,185.70924 128.71668,183.39836 135.24393,180.76692 161.5575,170.15875 180.58289,146.56703 185.57587,118.35472 186.8262,111.28984 186.80742,98.51428&#xD;&#xA;185.53571,91.035421 179.81395,57.386 153.63187,30.723513 119.64923,23.940023 115.96788,23.205164 110.19695,22.843634 104.46785,22.852232 z M100.7017,0.50330734 C102.84497,0.4895916 105.17205,0.51896477 107.76052,0.58345222 125.93491,1.0362282 135.7722,3.4267998 151.44875,11.200174 180.57292,25.641699 201.03769,52.462049 207.40022,84.52812 209.96155,97.43672 209.66319,115.03569 206.66117,128.12237 203.42534,142.22825 195.71623,158.63843 187.74376,168.39136 185.63161,170.9752 185.63161,170.9752 197.85083,183.19208 210.07006,195.40893 210.07006,195.40893 213.01277,193.91765 216.38539,192.20851 219.59934,192.02144&#xD;&#xA;222.80052,193.34791 224.34493,193.98787 236.40251,205.63809 262.26097,231.47519 297.40871,266.59387 299.49748,268.79901 299.49748,270.78601 299.49748,272.73248 298.49419,273.89364 286.18315,286.19555 272.86885,299.5 272.86885,299.5 269.57259,299.5 266.27635,299.5 266.27635,299.5 229.41904,262.56259 199.63605,232.71484 192.41959,225.17882 191.82105,223.29967 190.84711,220.24183 191.43077,215.59724 193.08006,213.28102 194.38585,211.44725&#xD;&#xA;194.38585,211.44725 182.18903,199.23881 175.48078,192.52418 169.71622,187.13611 169.37889,187.26533 169.04157,187.39454 166.69141,188.9884 164.15633,190.80725 155.4614,197.04556 141.80219,203.23869 130.32115,206.14819 116.70577,209.59859 98.082247,210.10565 84.471163,207.39657 58.185205,202.16478 34.986361,187.16664 19.216692,165.20933 14.505785,158.64998 7.703352,145.12176 5.1901493,137.31431 1.6701889,126.3793 0.90057564,121.44359 0.57668114,107.72713&#xD;&#xA;0.24999809,93.892408 0.90468407,87.539709 3.7551594,76.885122 13.09421,41.977285 41.974752,13.096739 76.882593,3.7576866 85.578432,1.4312458 91.414232,0.5627327 100.7017,0.50330734 z" />
                    <TextBlock Text="{Binding Zoom, StringFormat=P0}" FontSize="14" Margin="2, 0, 0, 0" VerticalAlignment="Center" />
                </StackPanel>
            </ruic:DropDownButton.Header>

            <ListBox Style="{StaticResource MenuListBoxStyle}" ItemsSource="{Binding SupportedZoomFactors}" MinWidth="120">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Button Command="{Binding Command}" CommandParameter="{Binding Zoom}">
                            <TextBlock Name="Zoom" Text="{Binding Zoom, StringFormat=P0}" />
                        </Button>

                        <DataTemplate.Triggers>
                            <DataTrigger Binding="{Binding IsSelected}" Value="True">
                                <Setter TargetName="Zoom" Property="FontWeight" Value="Bold" />
                            </DataTrigger>
                        </DataTemplate.Triggers>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ruic:DropDownButton>

        <Button Command="{Binding RestartGameCommand}" Height="30" Margin="5, 0, 0, 0" Padding="4">
            <Path Style="{StaticResource GameButtonIcon}" Data="M120,0 L180,60 120,120 120,77.640465 118.07536,77.762432 C71.605317,81.298275 35.000001,120.12432 35.000001,167.5 35.000001,217.20563 75.294374,257.5 125,257.5 174.70563,257.5 215,217.20563 215,167.5 L250,167.5 C250,236.5356 194.0356,292.5 125,292.5 55.964406,292.5 1.2665987E-06,236.5356 0,167.5 1.2665987E-06,100.62177 52.521283,46.01054 118.56751,42.662651 L120,42.608222 z" />
        </Button>
    </StackPanel>
</UserControl>
